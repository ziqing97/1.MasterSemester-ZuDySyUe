%% Zustandsschätzung in dynamischen Systemen Übung 1
% Ziqing Yu 3218051
% 25/11/2020

clc
clear all 
close all

%% Aufgabe 1
% Erste Beobachtung y1 ist ein (40*1) Vektor
y1 = [2.68;2.96;3.66;4.66;1.43;
      2.73;2.97;3.52;4.81;1.82;
      2.63;3.11;3.16;4.48;1.52;
      3.10;2.91;3.47;4.56;1.58;
      2.78;3.06;3.41;4.66;1.58;
      2.79;3.07;3.42;4.61;1.62;
      2.78;3.11;3.36;4.58;1.56;
      2.80;3.07;3.47;4.56;1.62];
% Design Matrix
A_teil = [1,1,0,0;
          0,1,1,0;
          0,0,1,1;
          1,1,1,0;
          0,0,0,1];
A = [A_teil;A_teil;A_teil;A_teil;A_teil;A_teil;A_teil;A_teil];
% Gewicht Matrix
P = diag(ones(1,40) * (1/0.1^2));
% Ausgleichung
x1_hat = (A'*P*A)\A'*P*y1;

% Zweite Beobachtung y2
y2 = [2.81;3.12;3.33;4.61;1.56;
      2.78;3.06;3.38;4.56;1.61;
      2.86;3.03;3.39;4.57;1.72;
      2.80;3.76;4.22;5.31;1.62;
      2.81;3.87;4.08;5.36;1.56;
      2.78;3.81;4.13;5.31;1.61;
      2.86;3.78;4.14;5.32;1.72;
      2.80;3.76;4.22;5.31;1.62];